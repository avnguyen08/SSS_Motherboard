Version 4
SHEET 1 2852 1044
WIRE 1056 32 1056 -16
WIRE 1984 112 1984 80
WIRE 1056 176 1056 112
WIRE 1184 176 1056 176
WIRE 800 256 672 256
WIRE 864 256 800 256
WIRE 1056 256 1056 176
WIRE 672 352 672 336
WIRE 752 352 672 352
WIRE 864 352 832 352
WIRE 672 384 672 352
WIRE 1952 400 1952 368
WIRE 2112 400 1952 400
WIRE 2560 400 2432 400
WIRE 2752 400 2640 400
WIRE 1952 448 1952 400
WIRE 1744 496 1632 496
WIRE 1888 496 1824 496
WIRE 2752 496 2752 400
WIRE 1952 576 1952 544
WIRE 2752 592 2752 560
WIRE 704 608 672 608
WIRE 1056 608 1056 352
WIRE 592 720 592 608
WIRE 704 720 704 608
FLAG 800 256 PWM
FLAG 672 384 0
FLAG 1984 0 12V
FLAG 1056 608 COM
FLAG 592 720 0
FLAG 704 720 COM
FLAG 1056 -16 12V
FLAG 1184 176 Vout
FLAG 1984 112 COM
FLAG 1632 496 Vout
FLAG 1952 288 12V
FLAG 1952 576 COM
FLAG 2112 400 INV_Vout
FLAG 2752 592 COM
FLAG 2752 400 Filtered_PWM
SYMBOL voltage 672 240 R0
WINDOW 3 -427 116 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 3 0 10p 10p 10u 20u 20)
SYMATTR InstName V1
SYMBOL voltage 1984 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=3m
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL Optos\\PC817A 960 304 R0
SYMATTR InstName U2
SYMBOL res 848 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 50
SYMBOL res 688 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1Mega
SYMBOL res 1040 16 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL npn 1888 448 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL res 1840 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL res 1936 272 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 2656 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 53
SYMBOL cap 2736 496 R0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL OpAmps\\opamp 2288 352 R0
SYMATTR InstName U1
TEXT 640 440 Left 2 !.tran 500u
